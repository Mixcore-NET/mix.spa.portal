<div class="container-xl">
    <!-- Page title -->
    <div class="page-header d-print-none">
        <div class="row align-items-center">
            <div class="col">
                <!-- Page pre-title -->
                <div class="page-pretitle">
                    List
                </div>
                <h2 class="page-title">
                    All Themes
                </h2>
            </div>
            <!-- Page title actions -->
            <div class="col-auto ms-auto d-print-none">
                <!-- <div class="btn-list">
                    <a href="/portal/permission/create" class="btn btn-primary d-none d-sm-inline-block">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24"
                            stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round"
                            stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <line x1="12" y1="5" x2="12" y2="19" />
                            <line x1="5" y1="12" x2="19" y2="12" />
                        </svg>
                        Create permission
                    </a>
                    <a href="/portal/permission/create" class="btn btn-primary d-sm-none btn-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24"
                            stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round"
                            stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                            <line x1="12" y1="5" x2="12" y2="19" />
                            <line x1="5" y1="12" x2="19" y2="12" />
                        </svg>
                    </a>
                </div> -->
            </div>
        </div>
    </div>
</div>
<div class="page-body">
    <div class="container-xl">
        <div class="row row-deck row-cards flex-row-reverse" xng-if="isAdmin">
            <div class="col-3">
                <div class="card">
                    <div class="card-body">
                        <filter-list request="request" create-url="'/portal/theme/create'" callback="getList(pageIndex)"
                            create-text="'Upload Theme'">
                        </filter-list>
                    </div>
                </div>
            </div>
            <div class="col-9">
                <div class="card">
                    <dvi class="card-body">
                        <table class="table table-sm table-hover" cellspacing="0">
                            <thead class="thead-light">
                                <tr>
                                    <!-- <th scope="col" width="5px">
                                            <small class="fa fa-grip-vertical fa-xs text-black-50 align-middle"></small>
                                        </th> -->
                                    <th scope="col">Title</th>
                                    <!-- <th scope="col">
                                            Name
                                        </th>
                                        <th scope="col">
                                            Version
                                        </th> -->
                                    <th scope="col" width="15%">Image</th>
                                    <th scope="col" width="10%">Author</th>
                                    <th scope="col" width="20%">Created Date</th>
                                    <th scope="col" width="15%" class="text-end"></th>
                                </tr>
                            </thead>

                            <tbody class="sortable" ng-init="getList()">
                                <tr ng-repeat="item in data.items track by $index" class="sortable-item"
                                    sort-model="theme" sort-model-id="{{item.id}}">
                                    <!-- <td style="cursor:grab;" class="drag-header">
                                            <small class="fa fa-grip-vertical fa-xs text-black-50 align-middle"></small>
                                        </td> -->
                                    <td class="">
                                        <small>{{item.title}}</small>
                                    </td>
                                    <!-- <td class="text-black-50 align-middle">
                                            <small>???</small>
                                        </td>
                                        <td class="text-black-50 align-middle">
                                            <small>v???</small>
                                        </td> -->
                                    <td>
                                        <img height="30" imageonload ng-src="{{item.imageUrl}}" />
                                    </td>
                                    <td>
                                        <small class="text-black-50 align-middle">{{item.createdBy}}</small>
                                    </td>
                                    <td>
                                        <small class="text-black-50 align-middle">
                                            {{item.createdDateTime | utcToLocal:'dd/MM/yyyy hh:mm a'}}
                                        </small>
                                    </td>
                                    <td>
                                        <div class="btn-group btn-group-sm btn-group-sm float-end" role="group"
                                            aria-label="Actions">
                                            <a ng-if="item.previewUrl" href="{{item.previewUrl}}" target="_blank"
                                                class="btn btn-link text-primary">
                                                <span class="fas fa-eye"></span>
                                            </a>
                                            <a href="/portal/template/list/{{item.id}}"
                                                class="btn btn-link text-primary">
                                                <span class="fas fa-paint-brush"></span>
                                            </a>
                                            <a href="/portal/file/list?folder=wwwroot/{{item.assetFolder}}"
                                                class="btn btn-link text-primary">
                                                <span class="fas fa-file"></span>
                                            </a>
                                            <a href="/portal/theme/export/{{item.id}}"
                                                class="btn btn-sm btn-link d-inline-block text-primary">
                                                <span class="fas fa-arrow-down"></span></a>

                                            <a ng-click="syncTemplates(item.id)"
                                                class="btn btn-sm btn-link d-inline-block text-primary"><span
                                                    class="fas fa-sync-alt"></span></a>
                                            <!-- 
                                                <a ng-click="shareTemplates(item.id)"
                                                    class="btn btn-sm btn-link d-inline-block text-primary"><span
                                                        class="fas fa-cloud-upload-alt"></span></a> -->

                                            <a href="/portal/theme/details/{{item.id}}"
                                                class="btn btn-link text-primary">
                                                <span class="fas fa-pen"></span>
                                            </a>

                                            <a ng-click="remove(item.id);" class="btn btn-link text-danger">
                                                <span class="fas fa-trash-alt"></span>
                                            </a>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="card-footer">
                            <paging class="small" page="data.page" page-size="data.pageSize" total="data.totalItems"
                                ul-class="pagination justify-content-end m-0" a-class="page-link"
                                paging-action="getList(page-1)" scroll-top="true">
                            </paging>
                        </div>
                    </dvi>
                </div>
            </div>
        </div>
    </div>
</div>